!function(i){i.fn.slider=function(r,e){function t(r){for(var e,t,a=r,s=0,l=0;l<a.length;l++)e=g.obj?a[l][g.src]||"":a[l],t=g.obj?a[l][g.alt]||"":"",e&&(o.append('<img class="img'+l+'" src="'+g.directory+"/"+e+'" alt="'+t+'"/>'),c.append('<img class="image" id="image'+l+'" src="'+g.directory+"/"+e+'" alt="'+t+'"/>'));i(".slider img").each(function(r,e){i(this).on("load",function(){s++,n(s)}),i(this).on("error",function(){s++,n(s)})})}function n(r){i(".slider img").length===r&&(a(),l(),d())}function a(){o.show(),i(".slider-block .nav").on("click",function(r){if(i(".slider:animated").length)return!1;if("prev"===r.target.id){if(!(f>0))return!1;f-=1,s(r,f)}else if("next"===r.target.id){if(!(f<i(".slider img").length-1))return!1;f+=1,s(r,f)}})}function s(r,e){if(i(".slider:animated").length)return!1;var t=i(".slider img").eq(e),n=parseInt(o.css("marginLeft"),10);"next"===r.target.id?t.length&&(n=n?n-h:-h,o.animate({marginLeft:n},m)):"prev"===r.target.id&&t.length&&n&&o.animate({marginLeft:n+h},m)}function l(){for(var r,e,t=i(".slider-block").width(),n=i(".slider img"),a=0;a<n.length;a++)r=n.eq(a)[0].clientWidth,e=(t-r)/2,i(".img"+a).css({marginLeft:e,marginRight:e})}function d(){c.show();var r=i(".scrollbar"),e=i(".wrapper img").length,t=parseInt(i(".wrapper img").eq(0).outerWidth(!0),10),n=e*t;c.css("width",n),r.niceScroll(),i(".wrapper .image").on("click",function(i){var r=i.target.id;f=parseInt(r.substr(5),10),o.animate({marginLeft:-h*f},0)})}if(!r||!r.length)throw new Error("no array or array is empty");if(e.obj&&!e.src)throw new Error("no settings src");if(!i(this).length)throw new Error("no selector");i(this).append('<div class="container-slider"><div class="slider-block"><div class="slider"></div><div id="prev" class="prev-arrow nav"></div><div id="next" class="next-arrow nav"></div></div><div class="scrollbar"><div class="wrapper"></div></div></div>');var o=i(".slider"),c=i(".wrapper");o.hide(),c.hide();var g=i.extend({animateTime:500,directory:"",obj:!1,src:"",alt:""},e),f=0,m=g.animateTime,h=i(".slider-block").width();t(r)}}(jQuery);